
<div class="register-container">
  <form [formGroup]="registerForm" class="register-form" (ngSubmit)="onExpertRegister()" novalidate>
    
    <!-- Logo -->
    <div class="logo">
      <img src="assets/icons/MeetExpert.png" alt="MeetExpert Logo" />
      <h1>Devenez Expert</h1>
      <p class="subtitle">Rejoignez notre communauté de professionnels</p>
    </div>

    <!-- Message d'erreur général -->
    <div *ngIf="errorMessage" class="alert alert-error">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>

    <!-- Nom complet -->
    <div class="form-group">
      <!-- <label for="name">Nom complet *</label> -->
      <input 
        id="name"
        type="text" 
        formControlName="name" 
        placeholder="Nom " 
        [class.invalid]="name?.touched && name?.invalid"
      />
      <div class="error-messages">
        <small *ngIf="name?.touched && name?.errors?.['required']">
          Le nom est requis.
        </small>
        <small *ngIf="name?.touched && name?.errors?.['minlength']">
          Minimum 2 caractères.
        </small>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <!-- <label for="email">Adresse email *</label> -->
      <input 
        id="email"
        type="email" 
        formControlName="email" 
        placeholder="Email" 
        [class.invalid]="email?.touched && email?.invalid"
      />
      <div class="error-messages">
        <small *ngIf="email?.touched && email?.errors?.['required']">
          L'email est requis.
        </small>
        <small *ngIf="email?.touched && email?.errors?.['email']">
          Format d'email invalide.
        </small>
      </div>
    </div>

    <!-- Domaine d'expertise -->
    <div class="form-group">
      <!-- <label for="domaine">Domaine d'expertise *</label> -->
      <input 
        id="domaine"
        type="text" 
        formControlName="domain" 
        placeholder="Domaine d'expertise" 
        [class.invalid]="domaine?.touched && domaine?.invalid"
      />
      
      <!-- Suggestions de domaines -->
      <div class="suggestions">
        <span *ngFor="let domain of suggestedDomains" 
              (click)="onDomainSelect(domain)"
              class="suggestion-tag">
          {{ domain }}
        </span>
      </div>
      
      <div class="error-messages">
        <small *ngIf="domaine?.touched && domaine?.errors?.['required']">
          Le domaine est requis.
        </small>
        <small *ngIf="domaine?.touched && domaine?.errors?.['minlength']">
          Minimum 3 caractères.
        </small>
      </div>
    </div>

    <!-- Mot de passe -->
    <div class="form-group">
      <!-- <label for="password">Mot de passe *</label> -->
      <div class="password-input-container">
        <input 
          id="password"
          [type]="showPassword ? 'text' : 'password'" 
          formControlName="password" 
          placeholder="Mot de passe" 
          [class.invalid]="password?.touched && password?.invalid"
        />
        <button type="button" class="toggle-password" (click)="togglePasswordVisibility('password')">
          <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </button>
      </div>
      
      <div class="error-messages">
        <small *ngIf="password?.touched && password?.errors?.['required']">
          Le mot de passe est requis.
        </small>
        <small *ngIf="password?.touched && password?.errors?.['minlength']">
          Minimum 8 caractères.
        </small>
      </div>
    </div>

    <!-- Confirmation mot de passe -->
    <div class="form-group">
      <!-- <label for="confirmPassword">Confirmer le mot de passe *</label> -->
      <div class="password-input-container">
        <input 
          id="confirmPassword"
          [type]="showConfirmPassword ? 'text' : 'password'" 
          formControlName="confirmPassword" 
          placeholder="Retapez votre mot de passe" 
          [class.invalid]="(confirmPassword?.touched && confirmPassword?.invalid) || passwordMismatch"
        />
        <button type="button" class="toggle-password" (click)="togglePasswordVisibility('confirmPassword')">
          <i [class]="showConfirmPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </button>
      </div>
      <div class="error-messages">
        <small *ngIf="confirmPassword?.touched && confirmPassword?.errors?.['required']">
          Confirmation requise.
        </small>
        <small *ngIf="passwordMismatch">
          Les mots de passe ne correspondent pas.
        </small>
      </div>
    </div>

    <!-- Conditions -->
    <div class="form-check">
      <input 
        type="checkbox" 
        id="terms" 
        formControlName="terms"
        class="checkbox"
      />
      <label for="terms">
        J'accepte les 
        <a href="/terms" target="_blank" class="link">termes et conditions</a>
      </label>
    </div>
    <div class="error-messages">
      <small *ngIf="terms?.touched && terms?.invalid">
        Vous devez accepter les conditions.
      </small>
    </div>

    <!-- Bouton d'inscription -->
    <button 
      type="submit" 
      class="submit-button"
      [disabled]="registerForm.invalid || loading"
      [class.loading]="loading"
    >
      <span *ngIf="!loading">Devenir Expert</span>
      <span *ngIf="loading" class="loading-content">
        <i class="fas fa-spinner fa-spin"></i>
        Inscription en cours...
      </span>
    </button>

        <div class="separator">
      <span>OU</span>
    </div>

    <a   class="google-btn">
      <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google logo" />
      Se connecter avec Google
    </a>

    <!-- Lien de connexion -->
    <div class="login-link">
      <p>Déjà expert ? <a routerLink="/expert-login" class="link">Connectez-vous</a></p>
    </div>
  </form>
</div>




<!-- <div class="login-container">
    <form [formGroup]="registerForm" class="login-form" (ngSubmit)="onConnexion()">
      <div class="logo">
        <img src="assets\icons\MeetExpert.png" alt="Logo" />
      </div>
  
  
      <!-- Nom complet --
      <div class="form-group">
        <label>Nom</label>
        <input type="text" formControlName="name" placeholder="Entrez votre nom" />
        <small *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid" class="text-danger">
          Le nom est requis.
        </small>
      </div>
  
      <!-- Email --
      <div class="form-group">
        <label>Adresse email</label>
        <input type="email" formControlName="email" placeholder="email@gmail.com" />
        <small *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']" class="text-danger">
          L'adresse email est requise.
        </small>
        <small *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['email']" class="text-danger">
          L'adresse email est invalide.
        </small>
      </div>
  
      <!-- Domaine d'expertise --
      <div class="form-group" >
        <label>Domaine d'expertise</label>
        <input type="text" formControlName="domaine" placeholder="Ex: Développement web" />
        <small *ngIf="registerForm.get('domaine')?.touched && registerForm.get('domaine')?.invalid" class="text-danger">
          Le domaine est requis.
        </small>
      </div>
  
      <!-- Mot de passe --
      <div class="form-group">
        <label>Mot de passe</label>
        <input type="password" formControlName="password" placeholder="********" />
        <small *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']" class="text-danger">
          Le mot de passe est requis.
        </small>
        <small *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['minlength']" class="text-danger">
          Le mot de passe doit contenir au moins 6 caractères.
        </small>
      </div>
  
      <!-- Confirmer le mot de passe --
      <div class="form-group">
        <label>Confirmez le mot de passe</label>
        <input type="password" formControlName="confirmPassword" placeholder="********" />
        <small *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.errors?.['required']" class="text-danger">
          Veuillez confirmer votre mot de passe.
        </small>
        <small *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.errors?.['mismatch']" class="text-danger">
          Les mots de passe ne correspondent pas.
        </small>
      </div>
  
      <!-- Conditions --
      <div class="form-check">
        <input type="checkbox" formControlName="terms" id="terms" />
        <label for="terms">J'accepte <a href="#" class="conditions">les termes et conditions</a></label>
      </div>
      <small *ngIf="registerForm.get('terms')?.touched && registerForm.get('terms')?.invalid" class="text-danger">
        Vous devez accepter les conditions.
      </small>
  
      <!-- Bouton --
      <button type="submit" [disabled]="registerForm.invalid || loading">
        <ng-container *ngIf="!loading; else loadingTpl">S'inscrire</ng-container>
      </button>
  
      <!-- Spinner --
      <ng-template #loadingTpl>
        <span class="spinner"></span> Traitement en cours...
      </ng-template>
    </form>
  </div>
   -->